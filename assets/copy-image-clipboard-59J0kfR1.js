function s(n,t,e,o){function u(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function a(r){try{d(o.next(r))}catch(l){c(l)}}function m(r){try{d(o.throw(r))}catch(l){c(l)}}function d(r){r.done?i(r.value):u(r.value).then(a,m)}d((o=o.apply(n,[])).next())})}function g(n){return s(this,void 0,void 0,function*(){return yield(yield fetch(`${n}`)).blob()})}function p(n){return n.type.includes("jpeg")}function y(n){return n.type.includes("png")}function h(n){return s(this,void 0,void 0,function*(){return new Promise(function(t,e){const o=document.createElement("img");o.crossOrigin="anonymous",o.src=n,o.onload=function(u){const i=u.target;t(i)},o.onabort=e,o.onerror=e})})}function b(n){return s(this,void 0,void 0,function*(){return new Promise(function(t,e){const o=document.createElement("canvas"),u=o.getContext("2d");if(u){const{width:i,height:c}=n;o.width=i,o.height=c,u.drawImage(n,0,0,i,c),o.toBlob(function(a){a?t(a):e("Cannot get blob from image element")},"image/png",1)}})})}function v(n){return s(this,void 0,void 0,function*(){const t=URL.createObjectURL(n),e=yield h(t);return yield b(e)})}function f(n){return s(this,void 0,void 0,function*(){const t={[n.type]:n},e=new ClipboardItem(t);yield navigator.clipboard.write([e])})}function w(n){return s(this,void 0,void 0,function*(){const t=yield g(n);if(p(t)){const e=yield v(t);return yield f(e),t}else if(y(t))return yield f(t),t;throw new Error("Cannot copy this type of image to clipboard")})}export{w as c};
