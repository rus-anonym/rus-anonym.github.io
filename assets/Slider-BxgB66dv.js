import{r as f,j as p,b as rt,aS as dt,u as ft,t as A}from"./index-C9NCmKu5.js";import{a6 as pt,a7 as ht,a8 as gt,a9 as _t,aa as vt,ab as bt,q as yt,v as ot,ac as mt,w as St,ad as zt}from"./index-COiyteho.js";import{u as Rt}from"./Search-BEhUH-mm.js";const Et="_host_vior9_1",kt="_focusVisible_vior9_17",Nt="_hover_vior9_22",wt="_active_vior9_26",Ct="_nativeInput_vior9_34",N={host:Et,focusVisible:kt,hover:Nt,active:wt,nativeInput:Ct},tt=({className:s,getRootRef:t,inputProps:e,withTooltip:n,isActive:o,...l})=>{const{focusVisible:r,onBlur:z,onFocus:D}=pt(),v=ht({focusVisible:r,mode:N.focusVisible}),[_,j]=f.useState(null),q=f.useMemo(()=>[gt({crossAxis:0,mainAxis:15}),_t(),vt({padding:8}),bt({element:_})],[_]),{x:b,y:w,placement:B,refs:C,strategy:F,middlewareData:{arrow:y},update:R}=yt({placement:"top",middleware:q}),{value:E,setTrue:h,setFalse:c}=Rt(!1),u=ot(t,C.setReference),d=n&&(r||E||o),g=e&&e.value;return f.useEffect(function(){d&&g!=="undefined"&&R()},[g,R,d]),p.jsxs(f.Fragment,{children:[p.jsx("span",{...l,ref:u,onMouseEnter:h,onMouseLeave:c,className:rt(N.host,v,o&&N.active,E&&N.hover,s),children:p.jsx("input",{...e,type:"range",className:N.nativeInput,"aria-orientation":"horizontal",onBlur:z,onFocus:D})}),d&&p.jsx(mt,{appearance:"neutral",getRootRef:C.setFloating,style:St(F,b,w),arrowProps:{coords:y,placement:B,getRootRef:j},description:g})]})},et=(s,t,e)=>(s-t)/(e-t)*100,st=(s,t,e,n,o)=>dt(s,[0,t],[e,n],{step:o}),L=(s,t,e)=>s<t?t:s>e?e:s,at=(s,t,e,n,o)=>{const[l,r]=s;if(r===null)return[L(t,e,n),null];switch(o){case"start":return t>r?[r,r]:[L(t,e,n),r];case"end":return t<l?[l,l]:[l,L(t,e,n)];case null:default:return s}},Ft=(s,t,e)=>{const[n,o]=s;switch(e){case"start":return[t,o];case"end":return[n,t];case null:default:return s}};function Vt(s){return s[1]!==null}const Mt=(s,t,e)=>{if(e==="start")return"start";if(e==="end")return"end";const[n,o]=s,l=.1,r=o!==null?n-l:n,z=o!==null?o+l:0;return Math.abs(r-t)<=Math.abs(z-t)?"start":"end"},nt=s=>{if(s){if(s.dataset.type==="start")return"start";if(s.dataset.type==="end")return"end"}return null},Tt={"aria-label":void 0,"aria-valuetext":void 0,"aria-labelledby":void 0},It=s=>{const t=s["aria-label"],e=s["aria-valuetext"],n=s["aria-labelledby"];return{...s,...Tt,ariaLabel:t,ariaValueText:e,ariaLabelledBy:n}},Dt="_host_iyqlk_1",jt="_disabled_iyqlk_7",qt="_track_iyqlk_12",Bt="_trackFill_iyqlk_13",Pt="_thumbs_iyqlk_31",Yt="_thumb_iyqlk_31",xt="_sizeL_iyqlk_43",Xt="_sizeM_iyqlk_47",$t="_sizeS_iyqlk_51",At="_sizeYCompact_iyqlk_59",Lt="_sizeYNone_iyqlk_72",i={host:Dt,disabled:jt,track:qt,trackFill:Bt,thumbs:Pt,thumb:Yt,sizeL:xt,sizeM:Xt,sizeS:$t,sizeYCompact:At,sizeYNone:Lt},Wt={none:i.sizeYNone,compact:i.sizeYCompact},Ht={l:i.sizeL,m:i.sizeM,s:i.sizeS},Jt=({step:s=1,min:t=0,max:e=100,value:n,multiple:o,defaultValue:l=o?[t,e]:t,disabled:r,className:z,getRootRef:D,getAriaLabel:v,getAriaValueText:_,startThumbTestId:j,endThumbTestId:q,onChange:b,withTooltip:w,size:B="l",...C})=>{const{sizeY:F="none"}=ft(),y=n!==void 0,[R,E]=f.useState(l),h=f.useMemo(()=>{const a=y?n:R;return Array.isArray(a)?[A(a[0],t,e),A(a[1],t,e)]:[A(a,t,e),null]},[y,n,R,t,e]),[c,u]=h,d=o&&u!==null,g=et(c,t,e),P=d?et(u,t,e):0,[W,H]=f.useState(null),m=f.useRef({dragging:null,startX:0,containerWidth:0}).current,Y=ot(D),x=f.useRef(null),X=f.useRef(null),{ariaLabel:O,ariaValueText:U,ariaLabelledBy:G,...it}=It(C),$=(a,S)=>{r||h[0]===a[0]&&h[1]===a[1]||(o?Vt(a)&&(!y&&E(a),b&&b(a,S)):(!y&&E(a[0]),b&&b(a[0],S)))},lt=a=>{if(!Y.current)return;const{left:S,width:V}=Y.current.getBoundingClientRect(),k=nt(a.originalEvent.target),M=a.startX-S,T=st(M,V,t,e,s),I=Mt(h,T,k);m.dragging=I,m.containerWidth=V,m.startX=M;const K=at(h,T,t,e,I),[Q,Z]=K;x.current&&(k==="start"||Q!==c&&Z===u)?(x.current.focus(),a.originalEvent.preventDefault()):X.current&&(k==="end"||Z!==u&&Q===c)&&(X.current.focus(),a.originalEvent.preventDefault()),$(K,a),a.originalEvent.stopPropagation(),H(m.dragging)},ct=a=>{const{startX:S,containerWidth:V,dragging:k}=m,{shiftX:M=0}=a,T=S+M,I=st(T,V,t,e,s);$(at(h,I,t,e,k),a),a.originalEvent.stopPropagation(),a.originalEvent.preventDefault()},ut=a=>{m.dragging=null,a.originalEvent.stopPropagation(),H(null)},J=a=>{$(Ft(h,Number(a.target.value),nt(a.target)),a)};return p.jsxs(zt,{"data-value":d?`${c},${u}`:c,...it,className:rt(i.host,r&&i.disabled,F!=="regular"&&Wt[F],Ht[B],z),onStart:r?void 0:lt,onMove:r?void 0:ct,onEnd:r?void 0:ut,children:[p.jsx("div",{className:i.track}),p.jsx("div",{className:i.trackFill,style:d?{left:`${g}%`,right:`${100-P}%`}:{width:`${g}%`}}),p.jsxs("div",{ref:Y,className:i.thumbs,children:[p.jsx(tt,{"data-type":"start",className:i.thumb,style:{left:`${g}%`,zIndex:d&&g>=50?2:void 0},withTooltip:w,inputProps:{"data-type":"start","data-testid":j,ref:x,step:s,min:t,value:c,max:d?u:e,disabled:r,"aria-label":v?v(0):O,"aria-valuetext":_?_(c,0):U,"aria-labelledby":G,onChange:J},isActive:W==="start"}),d&&p.jsx(tt,{"data-type":"end",className:i.thumb,style:{left:`${P}%`},withTooltip:w,inputProps:{"data-type":"end","data-testid":q,ref:X,step:s,min:c,value:u,max:e,disabled:r,"aria-label":v?v(1):O,"aria-valuetext":_?_(u,1):U,"aria-labelledby":G,onChange:J},isActive:W==="end"})]})]})};export{Jt as S};
