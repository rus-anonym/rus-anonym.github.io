import{r,j as t}from"./index-6B4uCwa3.js";import{u as f}from"./main-C5U_BE-6.js";import{G as j,$ as m,a7 as d,e as g,O as x}from"./index-DyXsVac9.js";import{S}from"./Slider-BN6KaZsg.js";import"./md5-C6JFQ-u4.js";import"./Search-CkshOnEL.js";const b=({result:e,desiredWinrate:i})=>e.type==="default"?t.jsx(x,{children:"Желаемый процент побед равен текущему"}):e.count===1/0?t.jsxs(x,{children:["Достигнуть процента побед ",i,"% невозможно"]}):t.jsxs(x,{children:["Для достижения процента побед ",i,"% необходимо"," ",e.count," ",e.type==="win"?f.string.declOfNum(e.count,["победа","победы","побед"]):f.string.declOfNum(e.count,["поражение","поражения","поражений"])," ","подряд"]}),R=()=>{const[e,i]=r.useState(0),[o,p]=r.useState(0),[a,h]=r.useState(0),[v,u]=r.useState("default"),[y,l]=r.useState("default"),C=r.useMemo(()=>{const n=Math.floor(e*(o/100)),s=Math.floor(e-n),c=Math.round(s*(100/(100-a))-e);if(c>0)return{type:"win",count:c,winCount:n,loseCount:s};if(c<0){const W=e*o/100;return{type:"lose",count:Math.round(W/(a/100)-e),winCount:n,loseCount:s}}else return{type:"default",winCount:n,loseCount:s}},[e,o,a]);return t.jsxs(j,{children:[t.jsxs("form",{children:[t.jsx(m,{top:"Общее количество матчей",children:t.jsx(d,{min:0,value:e.toString(),onChange:n=>i(Number(n.target.value)),type:"number"})}),t.jsxs(m,{top:"Текущий процент побед",status:v,children:[t.jsx(d,{min:0,max:100,value:o.toString(),onChange:n=>{const s=Number(n.target.value);s>100||s<0?u("error"):(p(s),u("valid"))},type:"number"}),t.jsx(g,{}),t.jsx(S,{step:.25,min:0,max:100,value:o,onChange:n=>{p(n),u("valid")}})]}),t.jsxs(m,{top:"Желаемый процент побед",status:y,children:[t.jsx(d,{min:0,max:100,value:a.toString(),onChange:n=>{const s=Number(n.target.value);s>100||s<0?l("error"):(h(s),l("valid"))},type:"number"}),t.jsx(g,{}),t.jsx(S,{step:.25,min:0,max:100,value:a,onChange:n=>{h(n),l("valid")}})]})]}),t.jsx(j,{mode:"plain",style:{textAlign:"center",height:"4vh"},children:t.jsx(b,{result:C,desiredWinrate:a})})]})};export{R as default};
