import{r as f}from"./react-BfBVMC0k.js";const H=(e,s,n,a)=>{var t,d,h,N;const i=[n,{code:s,...a||{}}];if((d=(t=e==null?void 0:e.services)==null?void 0:t.logger)!=null&&d.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);m(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(N=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&N.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},F={},E=(e,s,n,a)=>{m(n)&&F[n]||(m(n)&&(F[n]=new Date),H(e,s,n,a))},A=(e,s)=>()=>{if(e.isInitialized)s();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),s()};e.on("initialized",n)}},b=(e,s,n)=>{e.loadNamespaces(s,A(e,n))},L=(e,s,n,a)=>{if(m(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(s)>-1)return b(e,n,a);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(s,A(e,a))},M=(e,s,n={})=>!s.languages||!s.languages.length?(E(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,i)=>{var t;if(((t=n.bindI18n)==null?void 0:t.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}),m=e=>typeof e=="string",U=e=>typeof e=="object"&&e!==null,_=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,G={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},$=e=>G[e],q=e=>e.replace(_,$);let S={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:q};const B=(e={})=>{S={...S,...e}},W=()=>S;let P;const D=e=>{P=e},J=()=>P,V={type:"3rdParty",init(e){B(e.options.react),D(e)}},K=f.createContext();class X{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Y=(e,s)=>{const n=f.useRef();return f.useEffect(()=>{n.current=e},[e,s]),n.current},j=(e,s,n,a)=>e.getFixedT(s,n,a),Q=(e,s,n,a)=>f.useCallback(j(e,s,n,a),[e,s,n,a]),ee=(e,s={})=>{var R,v,z;const{i18n:n}=s,{i18n:a,defaultNS:i}=f.useContext(K)||{},t=n||a||J();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new X),!t){E(t,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const r=(u,l)=>m(l)?l:U(l)&&m(l.defaultValue)?l.defaultValue:Array.isArray(u)?u[u.length-1]:u,c=[r,{},!1];return c.t=r,c.i18n={},c.ready=!1,c}(R=t.options.react)!=null&&R.wait&&E(t,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...W(),...t.options.react,...s},{useSuspense:h,keyPrefix:N}=d;let o=e;o=m(o)?[o]:o||["translation"],(z=(v=t.reportNamespaces).addUsedNamespaces)==null||z.call(v,o);const g=(t.isInitialized||t.initializedStoreOnce)&&o.every(r=>M(r,t,d)),k=Q(t,s.lng||null,d.nsMode==="fallback"?o:o[0],N),C=()=>k,T=()=>j(t,s.lng||null,d.nsMode==="fallback"?o:o[0],N),[I,y]=f.useState(C);let w=o.join();s.lng&&(w=`${s.lng}${w}`);const O=Y(w),p=f.useRef(!0);f.useEffect(()=>{const{bindI18n:r,bindI18nStore:c}=d;p.current=!0,!g&&!h&&(s.lng?L(t,s.lng,o,()=>{p.current&&y(T)}):b(t,o,()=>{p.current&&y(T)})),g&&O&&O!==w&&p.current&&y(T);const u=()=>{p.current&&y(T)};return r&&(t==null||t.on(r,u)),c&&(t==null||t.store.on(c,u)),()=>{p.current=!1,t&&(r==null||r.split(" ").forEach(l=>t.off(l,u))),c&&t&&c.split(" ").forEach(l=>t.store.off(l,u))}},[t,w]),f.useEffect(()=>{p.current&&g&&y(C)},[t,N,g]);const x=[I,t,g];if(x.t=I,x.i18n=t,x.ready=g,g||!g&&!h)return x;throw new Promise(r=>{s.lng?L(t,s.lng,o,()=>r()):b(t,o,()=>r())})};export{V as i,ee as u};
