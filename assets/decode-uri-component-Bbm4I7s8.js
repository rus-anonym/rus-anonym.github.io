const f="%[a-f0-9]{2}",F=new RegExp("("+f+")|([^%]+?)","gi"),a=new RegExp("("+f+")+","gi");function n(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const o=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],n(o),n(r))}function h(e){try{return decodeURIComponent(e)}catch{let t=e.match(F)||[];for(let o=1;o<t.length;o++)e=n(t,o).join(""),t=e.match(F)||[];return e}}function s(e){const t={"%FE%FF":"��","%FF%FE":"��"};let o=a.exec(e);for(;o;){try{t[o[0]]=decodeURIComponent(o[0])}catch{const c=h(o[0]);c!==o[0]&&(t[o[0]]=c)}o=a.exec(e)}t["%C2"]="�";const r=Object.keys(t);for(const c of r)e=e.replace(new RegExp(c,"g"),t[c]);return e}function d(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return s(e)}}export{d};
