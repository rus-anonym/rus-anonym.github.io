var i={},w;function d(){if(w)return i;w=1;const l=function(){};l.prototype=Object.create(null);const f=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,p=/\\([\v\u0020-\u00ff])/gu,c=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,a={type:"",parameters:new l};Object.freeze(a.parameters),Object.freeze(a);function y(r){if(typeof r!="string")throw new TypeError("argument header is required and must be a string");let t=r.indexOf(";");const u=t!==-1?r.slice(0,t).trim():r.trim();if(c.test(u)===!1)throw new TypeError("invalid media type");const s={type:u.toLowerCase(),parameters:new l};if(t===-1)return s;let o,n,e;for(f.lastIndex=t;n=f.exec(r);){if(n.index!==t)throw new TypeError("invalid parameter format");t+=n[0].length,o=n[1].toLowerCase(),e=n[2],e[0]==='"'&&(e=e.slice(1,e.length-1),p.test(e)&&(e=e.replace(p,"$1"))),s.parameters[o]=e}if(t!==r.length)throw new TypeError("invalid parameter format");return s}function m(r){if(typeof r!="string")return a;let t=r.indexOf(";");const u=t!==-1?r.slice(0,t).trim():r.trim();if(c.test(u)===!1)return a;const s={type:u.toLowerCase(),parameters:new l};if(t===-1)return s;let o,n,e;for(f.lastIndex=t;n=f.exec(r);){if(n.index!==t)return a;t+=n[0].length,o=n[1].toLowerCase(),e=n[2],e[0]==='"'&&(e=e.slice(1,e.length-1),p.test(e)&&(e=e.replace(p,"$1"))),s.parameters[o]=e}return t!==r.length?a:s}return i.default={parse:y,safeParse:m},i.parse=y,i.safeParse=m,i.defaultContentType=a,i}var g=d();export{g as f};
